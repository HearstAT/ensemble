#####
# File generated by rake setup
# Generated for evnironment: <%= @ARGS.env %> by task: <%= @TASK %>
####

<% if @ARGS.postgres -%>
development:
  adapter: postgresql
  encoding: unicode
<% if @TASK.include? 'docker' -%>
  database: <%%= ENV["DATABASE"] %>
  pool: <%%= ENV["DATABASE_POOL"] %>
  username: <%%= ENV["DATABASE_USER"] %>
  password: <%%= ENV["DATABASE_PASSWORD"] %>
  host: <%%= ENV["DATABASE_HOST"] %>
  port: <%%= ENV["DATABASE_PORT"] %>
<% else -%>
  database: <%= @ARGS.db_name %>
  pool: <%= @ARGS.db_pool %>
  username: <%= @ARGS.db_user %>
  password: <%= @ARGS.db_pass %>
  host: <%= @ARGS.db_host %>
  port: <%= @ARGS.db_port %>
<% end -%>
<% else -%>
development:
  adapter: sqlite3
  pool: 5
  timeout: 5000
  database: db/test.sqlite3
<% end -%>

test:
  adapter: sqlite3
  pool: 5
  timeout: 5000
  database: db/test.sqlite3

production:
  adapter: postgresql
  encoding: unicode
<% if @TASK.include? 'docker' -%>
  database: <%%= ENV["DATABASE"] %>
  pool: <%%= ENV["DATABASE_POOL"] %>
  username: <%%= ENV["DATABASE_USER"] %>
  password: <%%= ENV["DATABASE_PASSWORD"] %>
  host: <%%= ENV["DATABASE_HOST"] %>
  port: <%%= ENV["DATABASE_PORT"] %>
<% else -%>
  database: <%= @ARGS.db_name %>
  pool: <%= @ARGS.db_pool %>
  username: <%= @ARGS.db_user %>
  password: <%= @ARGS.db_pass %>
  host: <%= @ARGS.db_host %>
  port: <%= @ARGS.db_port %>
<% end -%>